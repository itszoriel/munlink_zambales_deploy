## MunLink Zambales — Instructional User Manual

Welcome to MunLink Zambales, a municipal digital governance platform serving the 13 municipalities of Zambales. This manual guides both Residents (public users) and Municipal Administrators through setup, access, and day-to-day use.

### Who should read this
- Residents using the public web portal to access services
- Municipal Admins using the admin portal to process requests and manage content
- Operators who start/stop the system in development or staging

---

## Access Points
- Public Website (Residents): `http://localhost:3000`
- Admin Portal (Municipal Staff): `http://localhost:3001` (if running admin separately)
- API: `http://localhost:5000`

In development on Windows, you can use `scripts\start_project.ps1` or `scripts\run_project.bat` to start the API and Web. See Setup & Startup section for details.

---

## Roles Overview
- Resident: Standard user of the public portal. Registers with Gmail, verifies identity, and uses municipal services.
- Municipal Admin: Reviews/approves resident verifications, manages documents, issues, marketplace moderation, announcements, and benefits. Admins log in via the Admin Portal.

Key checks across services:
- Gmail-only registration for Residents
- Email verification required
- Admin ID verification required to unlock sensitive actions ("fully verified" state)

---

## Resident Guide (Public Website)

### 1) Registration and Login
1. Open the public website.
2. Select Register and fill in: username, Gmail, password, first/middle/last name, date of birth, and your municipality.
3. Optional: Upload ID images during registration (you can upload later too).
4. Submit and check your Gmail for verification steps.
5. After verification, Log in with your username/email and password.

Notes:
- Only Resident accounts can log in to the public site. Admin accounts are restricted to the Admin Portal.
- You may be prompted to upload verification documents (valid ID front/back, selfie with ID). Some features require full verification.

### 2) Profile & Verification
- Go to Profile to review and update personal details.
- Set your municipality; it is required for services that are municipality-scoped.
- Upload verification documents if requested. Admins will review and approve.

### 3) Announcements
- View municipal and province-wide announcements from your selected municipality.
- Filter or browse by date.

### 4) Document Requests (Digital/Physical)
Use this to request official municipal documents (e.g., certificates). Typical flow:
1. Navigate to Documents.
2. Choose a document type and confirm your municipality.
3. Select delivery method:
   - Digital: You’ll be able to download a PDF once ready
   - Physical pickup: You will pick up at the municipal office
4. Provide purpose and any additional notes; attach supporting files if needed.
5. Submit the request.

Statuses you may see:
- pending → processing → ready → completed, or rejected

When approved and ready (digital): a Download button appears. PDFs are generated by the system and stored under uploads.

Requirements:
- You must be fully verified and your municipality must match the request’s municipality.

### 5) Issue Reporting
Report local issues (infrastructure, safety, environmental, etc.):
1. Open Issues.
2. Select a category, add a title and clear description.
3. Provide the specific location (address or precise location is required). Optional: latitude/longitude.
4. Submit. After submission, you can upload evidence (images/PDF) to the created issue.

Tips:
- Issues default to public visibility unless indicated otherwise.
- You need a verified account scoped to your municipality.

### 6) Marketplace (Donate, Lend, Sell)
Browse and participate in the community marketplace:
- Filter by municipality, category, and transaction type (donate/lend/sell).
- Select an item to view details. If interested, follow the on-screen steps to initiate a transaction.

Posting a listing:
1. Click New Listing.
2. Provide title, description, category, condition, and transaction type.
3. For sell, provide price; for lend, set lending details if applicable.
4. Add photos, confirm your municipality.
5. Submit for admin moderation.

Notes:
- Listings are subject to admin approval (moderation) before becoming publicly available.
- Residents must be fully verified and have a registered municipality to post.

### 7) Benefits & Programs
- Browse municipal assistance programs and see eligibility details.
- Follow any application steps shown in the UI.

### 8) Municipalities & Barangays
- Use the municipality selector in the header/app to scope content and services to a specific locality.
- Some content (e.g., announcements, marketplace listings) is filtered by the selected municipality.

### 9) Security & Account Tips
- Use strong passwords and keep your email secure.
- Keep your profile updated with your current municipality.
- Upload clear, readable ID images to speed up verification.

---

## Municipal Admin Guide (Admin Portal)

Admins authenticate via the Admin Portal. Typical dashboard areas include:

### 1) Resident Verification
- View pending verifications: review ID photos and profile info.
- Approve or reject with reason. Approval unlocks resident access to sensitive actions (documents, marketplace posting, issue submission).

### 2) Document Requests
- View requests scoped to your municipality.
- Actions: Approve (for Digital: generate PDF), Reject (with reason), Update status and notes.
- Digital PDF generation stores the file under `uploads/generated_docs/{municipality}/{requestId}.pdf` and marks the request as ready.

### 3) Issue Management
- Track submitted issues, filter by status/category.
- Update status, add admin responses, and coordinate resolution.

### 4) Marketplace Moderation
- Review new listings awaiting approval.
- Approve or reject listings, set status, and ensure content is appropriate.

### 5) Announcements
- Create and manage public municipal announcements.
- Include title, content, and optional media.

### 6) Benefits Programs
- Manage and publish municipal benefits/programs.
- Keep program details updated for residents.

### 7) Reports & Analytics
- Review high-level metrics: user growth, issue stats, document request trends, and marketplace activity as available.

### 8) Admin Profile
- Update your admin profile and municipal scope if applicable.

---

## Setup & Startup (Development)

### Prerequisites
- Windows 10/11 (for the provided scripts), PowerShell
- Python 3.10+
- Node.js 18+
- Optional: Docker Desktop for containerized runs

### Environment
1. Copy `ENV_TEMPLATE.txt` to `.env` and update values (API secrets, mail, storage paths).
2. For email sending and verification, ensure SMTP settings are configured in your environment.

### One-click startup on Windows
- Use either:
  - `scripts\start_project.ps1` (PowerShell)
  - `scripts\run_project.bat` (Command Prompt)

These will:
- Start the Backend API (`apps\api\app.py`) on `http://localhost:5000`
- Start the Web Frontend (`apps\web`) on `http://localhost:3000`
- Open the browser to the web frontend

### Manual startup (per service)
1. Backend API
   - `cd apps\api`
   - (Optional) create and activate a virtual environment
   - `pip install -r requirements.txt`
   - `python app.py`
2. Web Frontend
   - `cd apps\web`
   - `npm install`
   - `npm run dev`
3. Admin Frontend (if running separately)
   - `cd apps\admin`
   - `npm install`
   - `npm run dev`

### Database
- Development uses SQLite by default (`munlink_zambales.db` at repo root).
- Scripts are available under `apps\api\scripts\` to initialize/seed/update the database.

### Docker (optional)
- From the repo root: `docker-compose up -d`
- Then open the web and admin URLs as configured in the compose file.

---

## Using Files & Uploads
- Runtime uploads are stored under `uploads\` with subfolders for announcements, marketplace, municipalities, profiles, verification, and generated_docs.
- Digital document PDFs appear under `uploads\generated_docs\{municipality}\{requestId}.pdf` after admin approval and generation.

---

## Troubleshooting & FAQ

### I can’t log in to the public site with my admin account
- Admin accounts are restricted to the Admin Portal. Use the Admin Portal URL to sign in.

### Marketplace listing won’t post
- Ensure your account is fully verified and your profile has a municipality set. Provide all required fields (price for "sell", etc.).

### Document request was rejected
- Check the rejection reason and resubmit with correct details and supporting documents.

### I don’t see my municipality’s content
- Use the municipality selector in the header. Content and services are scoped to your selected municipality.

### Emails are not sending
- Verify SMTP/email configuration in `.env`. Check the API logs for errors.

### Ports already in use
- Close other applications using ports 3000/3001/5000, or change the ports in frontend dev server configs or environment.

---

## Support
- Refer to `README.md` and `docs\` for technical references and guides.
- For municipal operations support, contact the designated municipal IT/admin team.

---

## Appendix: Key Capabilities Matrix

- Residents
  - Announcements: view
  - Documents: request digital/physical, download ready PDFs
  - Issues: report, upload evidence
  - Marketplace: browse; post listings after verification
  - Benefits: browse/apply (where enabled)

- Municipal Admins
  - Verify residents
  - Approve/reject marketplace listings
  - Process document requests, generate/download PDFs
  - Manage announcements and benefits
  - Track and respond to issues

Keep this manual with your deployment. Update it when enabling new features or changing municipal workflows.


